This is the buildroot board support for the Avnet Zedboard. The Zedboard is
a development board based on the Xilinx Zynq-7000 based All-Programmable
System-On-Chip.

Zedboard information including schematics, reference designs, and manuals are
available from http://www.zedboard.org .

The U-Boot firmware for the Xilinx Zynq All Programmable SoC depends
on some propietary code. This dependency consists of a pair of
files are available from the Xilinx SDK installation.

You will need these files from Xilinx SDK installation to generate
the U-Boot firmware:
	ps7_init.c
	ps7_init.h

Buildroot will create the following files and place them in the
<output>/images directory.
	zynq-zed.dtb
	rootfs.cpio.uboot
	uImage
	u-boot.img
	boot.bin


uboot.bin  -- U-Boot SPL w/ Xilinx boot.bin wrapper
---------------------------------------------------

Due to licensing issues, the files ps7_init.c/h are not able to be
distributed with the U-Boot source code.  These files are required to make a
boot.bin file.

If you already have the Xilinx tools installed, the following sequence will
unpack, patch and build the rfs, kernel, uboot, and uboot-spl.

make zedboard_defconfig
make uboot-patch
cp ${XILINX}/ISE_DS/EDK/sw/lib/hwplatform_templates/zed_hw_platform/ps7_init.{c,h} \
output/build/uboot-xilinx-v2014.1/board/xilinx/zynq/

After copying these files into the U-Boot source tree, you can
continue the build with:

make

*Notice*
While the build will successfully complete without the ps7_init.*
files,  the uboot.bin file generated by this configuration will not
function properly on the Zedboard.  Therefore, it is imperative that
the ps7_init.* files be copied into the U-Boot source tree any time
the clean, or uboot-dirclean targets are made.


Resulting system
----------------
A FAT32 partition should be created at the beggining of the SD Card
and the following files should be installed:
	/boot.bin
	/devicetree.dtb
	/uImage
	/uramdisk.image.gz
	/u-boot.img


All needed files can be taken from output/images/

boot.bin, uImage and u-boot.img are direct copies of the same files
available on output/images/

devicetree.dtb is just zynq-zed.dtb renamed.

uramdisk.image.gz is rootfs.cpio.uboot renamed
